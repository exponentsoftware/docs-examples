{"version":3,"file":"xcc.js","sources":["../node_modules/near-sdk-js/lib/near-bindgen.js","../node_modules/near-sdk-js/lib/api.js","../node_modules/near-sdk-js/lib/near-contract.js","../node_modules/near-sdk-js/lib/utils.js","../src/index.js"],"sourcesContent":["export function call(target, key, descriptor) {\n}\nexport function view(target, key, descriptor) {\n}\nexport function NearBindgen(target) {\n    return class extends target {\n        static _init() {\n            // @ts-ignore\n            let args = target.deserializeArgs();\n            let ret = new target(args);\n            // @ts-ignore\n            ret.serialize();\n            return ret;\n        }\n        static _get() {\n            let ret = Object.create(target.prototype);\n            return ret;\n        }\n    };\n}\n","const U64_MAX = 2n ** 64n - 1n;\nconst EVICTED_REGISTER = U64_MAX - 1n;\nexport function log(...params) {\n    env.log(`${params\n        .map(x => x === undefined ? 'undefined' : x) // Stringify undefined\n        .map(x => typeof (x) === 'object' ? JSON.stringify(x) : x) // Convert Objects to strings\n        .join(' ')}` // Convert to string\n    );\n}\nexport function signerAccountId() {\n    env.signer_account_id(0);\n    return env.read_register(0);\n}\nexport function signerAccountPk() {\n    env.signer_account_pk(0);\n    return env.read_register(0);\n}\nexport function predecessorAccountId() {\n    env.predecessor_account_id(0);\n    return env.read_register(0);\n}\nexport function blockIndex() {\n    return env.block_index();\n}\nexport function blockHeight() {\n    return blockIndex();\n}\nexport function blockTimestamp() {\n    return env.block_timestamp();\n}\nexport function epochHeight() {\n    return env.epoch_height();\n}\nexport function attachedDeposit() {\n    return env.attached_deposit();\n}\nexport function prepaidGas() {\n    return env.prepaid_gas();\n}\nexport function usedGas() {\n    return env.used_gas();\n}\nexport function randomSeed() {\n    env.random_seed(0);\n    return env.read_register(0);\n}\nexport function sha256(value) {\n    env.sha256(value, 0);\n    return env.read_register(0);\n}\nexport function keccak256(value) {\n    env.keccak256(value, 0);\n    return env.read_register(0);\n}\nexport function keccak512(value) {\n    env.keccak512(value, 0);\n    return env.read_register(0);\n}\nexport function ripemd160(value) {\n    env.ripemd160(value, 0);\n    return env.read_register(0);\n}\nexport function ecrecover(hash, sig, v, malleabilityFlag) {\n    let ret = env.ecrecover(hash, sig, v, malleabilityFlag, 0);\n    if (ret === 0n) {\n        return null;\n    }\n    return env.read_register(0);\n}\nexport function panic(msg) {\n    if (msg !== undefined) {\n        env.panic(msg);\n    }\n    else {\n        env.panic();\n    }\n}\nexport function panicUtf8(msg) {\n    env.panic_utf8(msg);\n}\nexport function logUtf8(msg) {\n    env.log_utf8(msg);\n}\nexport function logUtf16(msg) {\n    env.log_utf16(msg);\n}\nexport function storageRead(key) {\n    let ret = env.storage_read(key, 0);\n    if (ret === 1n) {\n        return env.read_register(0);\n    }\n    else {\n        return null;\n    }\n}\nexport function storageHasKey(key) {\n    let ret = env.storage_has_key(key);\n    if (ret === 1n) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexport function validatorStake(accountId) {\n    return env.validator_stake(accountId);\n}\nexport function validatorTotalStake() {\n    return env.validator_total_stake();\n}\nexport function altBn128G1Multiexp(value) {\n    env.alt_bn128_g1_multiexp(value, 0);\n    return env.read_register(0);\n}\nexport function altBn128G1Sum(value) {\n    env.alt_bn128_g1_sum(value, 0);\n    return env.read_register(0);\n}\nexport function altBn128PairingCheck(value) {\n    let ret = env.alt_bn128_pairing_check(value);\n    if (ret === 1n) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexport function jsvmAccountId() {\n    env.jsvm_account_id(0);\n    return env.read_register(0);\n}\nexport function jsvmJsContractName() {\n    env.jsvm_js_contract_name(0);\n    return env.read_register(0);\n}\nexport function jsvmMethodName() {\n    env.jsvm_method_name(0);\n    return env.read_register(0);\n}\nexport function jsvmArgs() {\n    env.jsvm_args(0);\n    return env.read_register(0);\n}\nexport function jsvmStorageWrite(key, value) {\n    let exist = env.jsvm_storage_write(key, value, EVICTED_REGISTER);\n    if (exist === 1n) {\n        return true;\n    }\n    return false;\n}\nexport function jsvmStorageRead(key) {\n    let exist = env.jsvm_storage_read(key, 0);\n    if (exist === 1n) {\n        return env.read_register(0);\n    }\n    return null;\n}\nexport function jsvmStorageRemove(key) {\n    let exist = env.jsvm_storage_remove(key, EVICTED_REGISTER);\n    if (exist === 1n) {\n        return true;\n    }\n    return false;\n}\nexport function jsvmStorageHasKey(key) {\n    let exist = env.jsvm_storage_has_key(key);\n    if (exist === 1n) {\n        return true;\n    }\n    return false;\n}\nexport function jsvmCallRaw(contractName, method, args) {\n    env.jsvm_call(contractName, method, JSON.stringify(args), 0);\n    return env.read_register(0);\n}\nexport function jsvmCall(contractName, method, args) {\n    let ret = jsvmCallRaw(contractName, method, args);\n    if (ret === null) {\n        return ret;\n    }\n    return JSON.parse(ret);\n}\nexport function storageGetEvicted() {\n    return env.read_register(EVICTED_REGISTER);\n}\nexport function jsvmValueReturn(value) {\n    env.jsvm_value_return(value);\n}\n// Standalone only APIs\nexport function currentAccountId() {\n    env.current_account_id(0);\n    return env.read_register(0);\n}\nexport function input() {\n    env.input(0);\n    return env.read_register(0);\n}\nexport function storageUsage() {\n    return env.storage_usage();\n}\nexport function accountBalance() {\n    return env.account_balance();\n}\nexport function accountLockedBalance() {\n    return env.account_locked_balance();\n}\nexport function valueReturn(value) {\n    env.value_return(value);\n}\nexport function promiseCreate(accountId, methodName, args, amount, gas) {\n    return env.promise_create(accountId, methodName, args, amount, gas);\n}\nexport function promiseThen(promiseIndex, accountId, methodName, args, amount, gas) {\n    return env.promise_then(promiseIndex, accountId, methodName, args, amount, gas);\n}\nexport function promiseAnd(...promiseIndex) {\n    return env.promise_and(...promiseIndex);\n}\nexport function promiseBatchCreate(accountId) {\n    return env.promise_batch_create(accountId);\n}\nexport function promiseBatchThen(promiseIndex, accountId) {\n    return env.promise_batch_then(promiseIndex, accountId);\n}\nexport function promiseBatchActionCreateAccount(promiseIndex) {\n    env.promise_batch_action_create_account(promiseIndex);\n}\nexport function promiseBatchActionDeployContract(promiseIndex, code) {\n    env.promise_batch_action_deploy_contract(promiseIndex, code);\n}\nexport function promiseBatchActionFunctionCall(promiseIndex, methodName, args, amount, gas) {\n    env.promise_batch_action_function_call(promiseIndex, methodName, args, amount, gas);\n}\nexport function promiseBatchActionTransfer(promiseIndex, amount) {\n    env.promise_batch_action_transfer(promiseIndex, amount);\n}\nexport function promiseBatchActionStake(promiseIndex, amount, publicKey) {\n    env.promise_batch_action_stake(promiseIndex, amount, publicKey);\n}\nexport function promiseBatchActionAddKeyWithFullAccess(promiseIndex, publicKey, nonce) {\n    env.promise_batch_action_add_key_with_full_access(promiseIndex, publicKey, nonce);\n}\nexport function promiseBatchActionAddKeyWithFunctionCall(promiseIndex, publicKey, nonce, allowance, receiverId, methodNames) {\n    env.promise_batch_action_add_key_with_function_call(promiseIndex, publicKey, nonce, allowance, receiverId, methodNames);\n}\nexport function promiseBatchActionDeleteKey(promiseIndex, publicKey) {\n    env.promise_batch_action_delete_key(promiseIndex, publicKey);\n}\nexport function promiseBatchActionDeleteAccount(promiseIndex, beneficiaryId) {\n    env.promise_batch_action_delete_account(promiseIndex, beneficiaryId);\n}\nexport function promiseResultsCount() {\n    return env.promise_results_count();\n}\nexport var PromiseResult;\n(function (PromiseResult) {\n    PromiseResult[PromiseResult[\"NotReady\"] = 0] = \"NotReady\";\n    PromiseResult[PromiseResult[\"Successful\"] = 1] = \"Successful\";\n    PromiseResult[PromiseResult[\"Failed\"] = 2] = \"Failed\";\n})(PromiseResult || (PromiseResult = {}));\nexport function promiseResult(resultIdx) {\n    let status = env.promise_result(resultIdx, 0);\n    if (status == PromiseResult.Successful) {\n        return env.read_register(0);\n    }\n    else if (status == PromiseResult.Failed ||\n        status == PromiseResult.NotReady) {\n        return status;\n    }\n    else {\n        panic(`Unexpected return code: ${status}`);\n    }\n}\nexport function promiseReturn(promiseIdx) {\n    env.promise_return(promiseIdx);\n}\nexport function storageWrite(key, value) {\n    let exist = env.storage_write(key, value, EVICTED_REGISTER);\n    if (exist === 1n) {\n        return true;\n    }\n    return false;\n}\nexport function storageRemove(key) {\n    let exist = env.storage_remove(key, EVICTED_REGISTER);\n    if (exist === 1n) {\n        return true;\n    }\n    return false;\n}\nexport function storageByteCost() {\n    return 10000000000000000000n;\n}\n","import * as near from \"./api\";\nexport class NearContract {\n    deserialize() {\n        let state = near.storageRead(\"STATE\");\n        if (state) {\n            Object.assign(this, JSON.parse(state));\n        }\n        else {\n            throw new Error(\"Contract state is empty\");\n        }\n    }\n    serialize() {\n        near.storageWrite(\"STATE\", JSON.stringify(this));\n    }\n    static deserializeArgs() {\n        let args = near.input();\n        return JSON.parse(args || \"{}\");\n    }\n    static serializeReturn(ret) {\n        return JSON.stringify(ret);\n    }\n}\n","export function u8ArrayToBytes(array) {\n    let ret = \"\";\n    for (let e of array) {\n        ret += String.fromCharCode(e);\n    }\n    return ret;\n}\n// TODO this function is a bit broken and the type can't be string\n// TODO for more info: https://github.com/near/near-sdk-js/issues/78\nexport function bytesToU8Array(bytes) {\n    let ret = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) {\n        ret[i] = bytes.charCodeAt(i);\n    }\n    return ret;\n}\nexport function bytes(strOrU8Array) {\n    if (typeof strOrU8Array == \"string\") {\n        return checkStringIsBytes(strOrU8Array);\n    }\n    else if (strOrU8Array instanceof Uint8Array) {\n        return u8ArrayToBytes(strOrU8Array);\n    }\n    throw new Error(\"bytes: expected string or Uint8Array\");\n}\nfunction checkStringIsBytes(str) {\n    for (let i = 0; i < str.length; i++) {\n        if (str.charCodeAt(i) > 255) {\n            throw new Error(`string ${str} at index ${i}: ${str[i]} is not a valid byte`);\n        }\n    }\n    return str;\n}\nexport function assert(b, str) {\n    if (b) {\n        return;\n    }\n    else {\n        throw Error(\"assertion failed: \" + str);\n    }\n}\n","import { NearContract, NearBindgen, call, view, near, bytes } from \"near-sdk-js\";\n\nconst TGAS = 10000000000000;\n\n@NearBindgen\nclass CrossContractCall extends NearContract {\n  constructor({hello_account = \"hello-nearverse.testnet\"}) {\n    super()\n    assert(near.currentAccountId() === near.predecessorAccountId(), \"Method new is private\");\n    this.hello_account = hello_account;\n  }\n\n  @call\n  query_greeting() {\n    const call = near.promiseBatchCreate(this.hello_account);\n    near.promiseBatchActionFunctionCall(call, \"get_greeting\", bytes(JSON.stringify({})), 0, 5 * TGAS);\n    const then =  near.promiseThen(call, near.currentAccountId(), \"query_greeting_callback\", bytes(JSON.stringify({})), 0, 5 * TGAS);\n    return near.promiseReturn(then);\n  }\n\n  @call\n  query_greeting_callback() {\n    assert(near.currentAccountId() === near.predecessorAccountId(), \"This is a private method\");\n    const greeting = near.promiseResult();\n    return greeting;\n  }\n\n  @call\n  change_greeting({ new_greeting }) {\n    const call = near.promiseBatchCreate(this.hello_account);\n    near.promiseBatchActionFunctionCall(call, \"set_greeting\", bytes(JSON.stringify({ message: new_greeting })), 0, 5 * TGAS);\n    const then = near.promiseThen(call, near.currentAccountId(), \"change_greeting_callback\", bytes(JSON.stringify({})), 0, 5 * TGAS);\n    return near.promiseReturn(then);\n  }\n\n  @call\n  change_greeting_callback() {\n    assert(near.currentAccountId() === near.predecessorAccountId(), \"This is a private method\");\n\n    if (near.promiseResultsCount() == 1) {\n      near.log(\"Promise was successful!\")\n      return true\n    } else {\n      near.log(\"Promise failed...\")\n      return false\n    }\n  }\n}\n\nfunction assert(condition, message) { if(!condition) near.panic(message); }"],"names":["call","target","key","descriptor","NearBindgen","_init","args","deserializeArgs","ret","serialize","_get","Object","create","prototype","U64_MAX","EVICTED_REGISTER","log","params","env","map","x","undefined","JSON","stringify","join","predecessorAccountId","predecessor_account_id","read_register","panic","msg","storageRead","storage_read","currentAccountId","current_account_id","input","promiseThen","promiseIndex","accountId","methodName","amount","gas","promise_then","promiseBatchCreate","promise_batch_create","promiseBatchActionFunctionCall","promise_batch_action_function_call","promiseResultsCount","promise_results_count","PromiseResult","promiseResult","resultIdx","status","promise_result","Successful","Failed","NotReady","promiseReturn","promiseIdx","promise_return","storageWrite","value","exist","storage_write","NearContract","deserialize","state","near","assign","parse","Error","serializeReturn","u8ArrayToBytes","array","e","String","fromCharCode","bytes","strOrU8Array","checkStringIsBytes","Uint8Array","str","i","length","charCodeAt","TGAS","CrossContractCall","constructor","hello_account","assert","query_greeting","then","query_greeting_callback","greeting","change_greeting","new_greeting","message","change_greeting_callback","condition"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,SAASA,IAAT,CAAcC,MAAd,EAAsBC,GAAtB,EAA2BC,UAA3B,EAAuC,EAC7C;AAGM,SAASC,WAAT,CAAqBH,MAArB,EAA6B;EAChC,OAAO,cAAcA,MAAd,CAAqB;AACZ,IAAA,OAALI,KAAK,GAAG;AACX;AACA,MAAA,IAAIC,IAAI,GAAGL,MAAM,CAACM,eAAP,EAAX,CAAA;MACA,IAAIC,GAAG,GAAG,IAAIP,MAAJ,CAAWK,IAAX,CAAV,CAHW;;AAKXE,MAAAA,GAAG,CAACC,SAAJ,EAAA,CAAA;AACA,MAAA,OAAOD,GAAP,CAAA;AACH,KAAA;;AACU,IAAA,OAAJE,IAAI,GAAG;MACV,IAAIF,GAAG,GAAGG,MAAM,CAACC,MAAP,CAAcX,MAAM,CAACY,SAArB,CAAV,CAAA;AACA,MAAA,OAAOL,GAAP,CAAA;AACH,KAAA;;GAZL,CAAA;AAcH;;ACnBD,MAAMM,OAAO,GAAG,EAAM,IAAA,GAAN,GAAY,EAA5B,CAAA;AACA,MAAMC,gBAAgB,GAAGD,OAAO,GAAG,EAAnC,CAAA;AACO,SAASE,GAAT,CAAa,GAAGC,MAAhB,EAAwB;AAC3BC,EAAAA,GAAG,CAACF,GAAJ,CAAS,CAAEC,EAAAA,MAAM,CACZE,GADM,CACFC,CAAC,IAAIA,CAAC,KAAKC,SAAN,GAAkB,WAAlB,GAAgCD,CADnC,CACsC;AADtC,GAEND,GAFM,CAEFC,CAAC,IAAI,OAAQA,CAAR,KAAe,QAAf,GAA0BE,IAAI,CAACC,SAAL,CAAeH,CAAf,CAA1B,GAA8CA,CAFjD,CAEoD;AAFpD,GAGNI,IAHM,CAGD,GAHC,CAGI,EAHf;AAAA,GAAA,CAAA;AAKH,CAAA;AASM,SAASC,oBAAT,GAAgC;EACnCP,GAAG,CAACQ,sBAAJ,CAA2B,CAA3B,CAAA,CAAA;AACA,EAAA,OAAOR,GAAG,CAACS,aAAJ,CAAkB,CAAlB,CAAP,CAAA;AACH,CAAA;AAiDM,SAASC,KAAT,CAAeC,GAAf,EAAoB;EACvB,IAAIA,GAAG,KAAKR,SAAZ,EAAuB;IACnBH,GAAG,CAACU,KAAJ,CAAUC,GAAV,CAAA,CAAA;AACH,GAFD,MAGK;AACDX,IAAAA,GAAG,CAACU,KAAJ,EAAA,CAAA;AACH,GAAA;AACJ,CAAA;AAUM,SAASE,WAAT,CAAqB5B,GAArB,EAA0B;EAC7B,IAAIM,GAAG,GAAGU,GAAG,CAACa,YAAJ,CAAiB7B,GAAjB,EAAsB,CAAtB,CAAV,CAAA;;EACA,IAAIM,GAAG,KAAK,EAAZ,EAAgB;AACZ,IAAA,OAAOU,GAAG,CAACS,aAAJ,CAAkB,CAAlB,CAAP,CAAA;AACH,GAFD,MAGK;AACD,IAAA,OAAO,IAAP,CAAA;AACH,GAAA;AACJ,CAAA;;AA+FM,SAASK,gBAAT,GAA4B;EAC/Bd,GAAG,CAACe,kBAAJ,CAAuB,CAAvB,CAAA,CAAA;AACA,EAAA,OAAOf,GAAG,CAACS,aAAJ,CAAkB,CAAlB,CAAP,CAAA;AACH,CAAA;AACM,SAASO,KAAT,GAAiB;EACpBhB,GAAG,CAACgB,KAAJ,CAAU,CAAV,CAAA,CAAA;AACA,EAAA,OAAOhB,GAAG,CAACS,aAAJ,CAAkB,CAAlB,CAAP,CAAA;AACH,CAAA;AAgBM,SAASQ,WAAT,CAAqBC,YAArB,EAAmCC,SAAnC,EAA8CC,UAA9C,EAA0DhC,IAA1D,EAAgEiC,MAAhE,EAAwEC,GAAxE,EAA6E;AAChF,EAAA,OAAOtB,GAAG,CAACuB,YAAJ,CAAiBL,YAAjB,EAA+BC,SAA/B,EAA0CC,UAA1C,EAAsDhC,IAAtD,EAA4DiC,MAA5D,EAAoEC,GAApE,CAAP,CAAA;AACH,CAAA;AAIM,SAASE,kBAAT,CAA4BL,SAA5B,EAAuC;AAC1C,EAAA,OAAOnB,GAAG,CAACyB,oBAAJ,CAAyBN,SAAzB,CAAP,CAAA;AACH,CAAA;AAUM,SAASO,8BAAT,CAAwCR,YAAxC,EAAsDE,UAAtD,EAAkEhC,IAAlE,EAAwEiC,MAAxE,EAAgFC,GAAhF,EAAqF;EACxFtB,GAAG,CAAC2B,kCAAJ,CAAuCT,YAAvC,EAAqDE,UAArD,EAAiEhC,IAAjE,EAAuEiC,MAAvE,EAA+EC,GAA/E,CAAA,CAAA;AACH,CAAA;AAmBM,SAASM,mBAAT,GAA+B;EAClC,OAAO5B,GAAG,CAAC6B,qBAAJ,EAAP,CAAA;AACH,CAAA;AACM,IAAIC,aAAJ,CAAA;;AACP,CAAC,UAAUA,aAAV,EAAyB;EACtBA,aAAa,CAACA,aAAa,CAAC,UAAD,CAAb,GAA4B,CAA7B,CAAb,GAA+C,UAA/C,CAAA;EACAA,aAAa,CAACA,aAAa,CAAC,YAAD,CAAb,GAA8B,CAA/B,CAAb,GAAiD,YAAjD,CAAA;EACAA,aAAa,CAACA,aAAa,CAAC,QAAD,CAAb,GAA0B,CAA3B,CAAb,GAA6C,QAA7C,CAAA;AACH,CAJD,EAIGA,aAAa,KAAKA,aAAa,GAAG,EAArB,CAJhB,CAAA,CAAA;;AAKO,SAASC,aAAT,CAAuBC,SAAvB,EAAkC;EACrC,IAAIC,MAAM,GAAGjC,GAAG,CAACkC,cAAJ,CAAmBF,SAAnB,EAA8B,CAA9B,CAAb,CAAA;;AACA,EAAA,IAAIC,MAAM,IAAIH,aAAa,CAACK,UAA5B,EAAwC;AACpC,IAAA,OAAOnC,GAAG,CAACS,aAAJ,CAAkB,CAAlB,CAAP,CAAA;AACH,GAFD,MAGK,IAAIwB,MAAM,IAAIH,aAAa,CAACM,MAAxB,IACLH,MAAM,IAAIH,aAAa,CAACO,QADvB,EACiC;AAClC,IAAA,OAAOJ,MAAP,CAAA;AACH,GAHI,MAIA;AACDvB,IAAAA,KAAK,CAAE,CAAA,wBAAA,EAA0BuB,MAAO,CAAA,CAAnC,CAAL,CAAA;AACH,GAAA;AACJ,CAAA;AACM,SAASK,aAAT,CAAuBC,UAAvB,EAAmC;EACtCvC,GAAG,CAACwC,cAAJ,CAAmBD,UAAnB,CAAA,CAAA;AACH,CAAA;AACM,SAASE,YAAT,CAAsBzD,GAAtB,EAA2B0D,KAA3B,EAAkC;EACrC,IAAIC,KAAK,GAAG3C,GAAG,CAAC4C,aAAJ,CAAkB5D,GAAlB,EAAuB0D,KAAvB,EAA8B7C,gBAA9B,CAAZ,CAAA;;EACA,IAAI8C,KAAK,KAAK,EAAd,EAAkB;AACd,IAAA,OAAO,IAAP,CAAA;AACH,GAAA;;AACD,EAAA,OAAO,KAAP,CAAA;AACH;;ACzRM,MAAME,YAAN,CAAmB;AACtBC,EAAAA,WAAW,GAAG;AACV,IAAA,IAAIC,KAAK,GAAGC,WAAA,CAAiB,OAAjB,CAAZ,CAAA;;AACA,IAAA,IAAID,KAAJ,EAAW;MACPtD,MAAM,CAACwD,MAAP,CAAc,IAAd,EAAoB7C,IAAI,CAAC8C,KAAL,CAAWH,KAAX,CAApB,CAAA,CAAA;AACH,KAFD,MAGK;AACD,MAAA,MAAM,IAAII,KAAJ,CAAU,yBAAV,CAAN,CAAA;AACH,KAAA;AACJ,GAAA;;AACD5D,EAAAA,SAAS,GAAG;IACRyD,YAAA,CAAkB,OAAlB,EAA2B5C,IAAI,CAACC,SAAL,CAAe,IAAf,CAA3B,CAAA,CAAA;AACH,GAAA;;AACqB,EAAA,OAAfhB,eAAe,GAAG;AACrB,IAAA,IAAID,IAAI,GAAG4D,KAAA,EAAX,CAAA;AACA,IAAA,OAAO5C,IAAI,CAAC8C,KAAL,CAAW9D,IAAI,IAAI,IAAnB,CAAP,CAAA;AACH,GAAA;;EACqB,OAAfgE,eAAe,CAAC9D,GAAD,EAAM;AACxB,IAAA,OAAOc,IAAI,CAACC,SAAL,CAAef,GAAf,CAAP,CAAA;AACH,GAAA;;AAnBqB;;ACDnB,SAAS+D,cAAT,CAAwBC,KAAxB,EAA+B;EAClC,IAAIhE,GAAG,GAAG,EAAV,CAAA;;AACA,EAAA,KAAK,IAAIiE,CAAT,IAAcD,KAAd,EAAqB;AACjBhE,IAAAA,GAAG,IAAIkE,MAAM,CAACC,YAAP,CAAoBF,CAApB,CAAP,CAAA;AACH,GAAA;;AACD,EAAA,OAAOjE,GAAP,CAAA;AACH;AAUM,SAASoE,KAAT,CAAeC,YAAf,EAA6B;AAChC,EAAA,IAAI,OAAOA,YAAP,IAAuB,QAA3B,EAAqC;IACjC,OAAOC,kBAAkB,CAACD,YAAD,CAAzB,CAAA;AACH,GAFD,MAGK,IAAIA,YAAY,YAAYE,UAA5B,EAAwC;IACzC,OAAOR,cAAc,CAACM,YAAD,CAArB,CAAA;AACH,GAAA;;AACD,EAAA,MAAM,IAAIR,KAAJ,CAAU,sCAAV,CAAN,CAAA;AACH,CAAA;;AACD,SAASS,kBAAT,CAA4BE,GAA5B,EAAiC;AAC7B,EAAA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACE,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC,IAAA,IAAID,GAAG,CAACG,UAAJ,CAAeF,CAAf,CAAA,GAAoB,GAAxB,EAA6B;AACzB,MAAA,MAAM,IAAIZ,KAAJ,CAAW,CAAA,OAAA,EAASW,GAAI,CAAA,UAAA,EAAYC,CAAE,CAAA,EAAA,EAAID,GAAG,CAACC,CAAD,CAAI,sBAAjD,CAAN,CAAA;AACH,KAAA;AACJ,GAAA;;AACD,EAAA,OAAOD,GAAP,CAAA;AACH;;;AC9BD,MAAMI,IAAI,GAAG,cAAb,CAAA;;AAGMC,IAAAA,oBADLjF,gCAAD,MACMiF,iBADN,SACgCtB,YADhC,CAC6C;AAC3CuB,EAAAA,WAAW,CAAC;AAACC,IAAAA,aAAa,GAAG,yBAAA;AAAjB,GAAD,EAA8C;AACvD,IAAA,KAAA,EAAA,CAAA;IACAC,MAAM,CAACtB,gBAAA,EAAA,KAA4BA,oBAAA,EAA7B,EAA0D,uBAA1D,CAAN,CAAA;IACA,IAAKqB,CAAAA,aAAL,GAAqBA,aAArB,CAAA;AACD,GAAA;;AAGDE,EAAAA,cAAc,GAAG;IACf,MAAMzF,IAAI,GAAGkE,kBAAA,CAAwB,IAAA,CAAKqB,aAA7B,CAAb,CAAA;IACArB,8BAAA,CAAoClE,IAApC,EAA0C,cAA1C,EAA0D4E,KAAK,CAACtD,IAAI,CAACC,SAAL,CAAe,EAAf,CAAD,CAA/D,EAAqF,CAArF,EAAwF,IAAI6D,IAA5F,CAAA,CAAA;AACA,IAAA,MAAMM,IAAI,GAAIxB,WAAA,CAAiBlE,IAAjB,EAAuBkE,gBAAA,EAAvB,EAAgD,yBAAhD,EAA2EU,KAAK,CAACtD,IAAI,CAACC,SAAL,CAAe,EAAf,CAAD,CAAhF,EAAsG,CAAtG,EAAyG,CAAA,GAAI6D,IAA7G,CAAd,CAAA;AACA,IAAA,OAAOlB,aAAA,CAAmBwB,IAAnB,CAAP,CAAA;AACD,GAAA;;AAGDC,EAAAA,uBAAuB,GAAG;IACxBH,MAAM,CAACtB,gBAAA,EAAA,KAA4BA,oBAAA,EAA7B,EAA0D,0BAA1D,CAAN,CAAA;AACA,IAAA,MAAM0B,QAAQ,GAAG1B,aAAA,EAAjB,CAAA;AACA,IAAA,OAAO0B,QAAP,CAAA;AACD,GAAA;;AAGDC,EAAAA,eAAe,CAAC;AAAEC,IAAAA,YAAAA;AAAF,GAAD,EAAmB;IAChC,MAAM9F,IAAI,GAAGkE,kBAAA,CAAwB,IAAA,CAAKqB,aAA7B,CAAb,CAAA;AACArB,IAAAA,8BAAA,CAAoClE,IAApC,EAA0C,cAA1C,EAA0D4E,KAAK,CAACtD,IAAI,CAACC,SAAL,CAAe;AAAEwE,MAAAA,OAAO,EAAED,YAAAA;AAAX,KAAf,CAAD,CAA/D,EAA4G,CAA5G,EAA+G,IAAIV,IAAnH,CAAA,CAAA;AACA,IAAA,MAAMM,IAAI,GAAGxB,WAAA,CAAiBlE,IAAjB,EAAuBkE,gBAAA,EAAvB,EAAgD,0BAAhD,EAA4EU,KAAK,CAACtD,IAAI,CAACC,SAAL,CAAe,EAAf,CAAD,CAAjF,EAAuG,CAAvG,EAA0G,CAAA,GAAI6D,IAA9G,CAAb,CAAA;AACA,IAAA,OAAOlB,aAAA,CAAmBwB,IAAnB,CAAP,CAAA;AACD,GAAA;;AAGDM,EAAAA,wBAAwB,GAAG;IACzBR,MAAM,CAACtB,gBAAA,EAAA,KAA4BA,oBAAA,EAA7B,EAA0D,0BAA1D,CAAN,CAAA;;AAEA,IAAA,IAAIA,mBAAA,EAAA,IAA8B,CAAlC,EAAqC;MACnCA,GAAA,CAAS,yBAAT,CAAA,CAAA;AACA,MAAA,OAAO,IAAP,CAAA;AACD,KAHD,MAGO;MACLA,GAAA,CAAS,mBAAT,CAAA,CAAA;AACA,MAAA,OAAO,KAAP,CAAA;AACD,KAAA;AACF,GAAA;;AAzC0C,oEAO1ClE,0KAQAA,KAOAA,EAAAA,MAAAA,CAAAA,wBAAAA,CAAAA,OAAAA,CAAAA,SAAAA,EAAAA,yBAAAA,CAAAA,EAAAA,OAAAA,CAAAA,SAAAA,CAAAA,EAAAA,yBAAAA,CAAAA,OAAAA,CAAAA,SAAAA,EAAAA,iBAAAA,EAAAA,CAAAA,4KAQAA;;;EA9BGqF;;;kBAAAA;;;;;;;;;;;;;kBAAAA;;;;;;;;;;;;;kBAAAA;;;;;;;;;;;;;kBAAAA;;;;;;;;;;;;;AA4CN,SAASG,MAAT,CAAgBS,SAAhB,EAA2BF,OAA3B,EAAoC;AAAE,EAAA,IAAG,CAACE,SAAJ,EAAe/B,KAAA,CAAW6B,OAAX,CAAA,CAAA;AAAsB;;;;"}